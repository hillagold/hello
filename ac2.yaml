---
- name: ec2 launcher
  hosts: localhost
  connection: local
  vars:
      instance_type: t2.micro
      security_group: hilla_AWS_Security_Grp
      image: ami-00bb6f60
      keypair: hillagold
      region: us-west-1
      count: 1

  tasks:
    - name: launching ec2
      become: yes
      ec2:
        instance_type: '{{ instance_type }}'
        key_name: '{{ keypair }}'
        aws_access_key: AWS_SECRET_ACCESS_KEY
        aws_secret_key: AWS_SECRET_KEY
        image: '{{ image }}'
        region: '{{ region }}'
        count: '{{ count }}'
        vpc_subnet_id: subnet-9ae55efc
        wait: yes
        assign_public_ip: yes
        group: default
